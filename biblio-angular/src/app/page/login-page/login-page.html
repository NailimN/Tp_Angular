<h1 class="text-center mt-4">Se connecter</h1>

@if (loginError) {
  <div class="alert alert-danger text-center w-50 mx-auto">
      Nom d'utilisateur ou mot de passe incorrect
  </div>
}

<div class="d-flex justify-content-center mt-4">
  <form 
    (ngSubmit)="connecter()" 
    [formGroup]="userForm" 
    class="p-4 border rounded shadow-sm bg-white"
    style="width: 380px;"
  >

    <!-- Username -->
    <div class="mb-3">
      <label class="form-label">Nom d'utilisateur</label>
      <input 
        type="text" 
        class="form-control"
        formControlName="username"
        placeholder="Nom d'utilisateur"
      />

      <span class="text-danger small" *ngIf="usernameCtrl?.hasError('required')">
        Le nom d'utilisateur est obligatoire
      </span>
    </div>

    <!-- Password -->
    <div class="mb-4">
      <label class="form-label">Mot de passe</label>
      <input 
        type="password" 
        class="form-control"
        formControlName="password"
        placeholder="Mot de passe"
      />

      <span class="text-danger small" *ngIf="passwordCtrl?.hasError('required')">
        Le mot de passe est obligatoire
      </span>

      <span class="text-danger small" *ngIf="passwordCtrl?.hasError('minlength')">
        Le mot de passe doit faire 6 caractÃ¨res minimum
      </span>
    </div>

    <!-- Submit -->
    <button 
      type="submit" 
      class="btn btn-primary w-100"
      [disabled]="userForm.invalid"
    >
      Se connecter
    </button>

  </form>
</div>
